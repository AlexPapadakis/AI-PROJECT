<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Αναφορά - Car Control με Fuzzy Logic</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', 'Segoe UI', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f4f4f4;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }
        
        .student-info {
            background: #ecf0f1;
            padding: 20px;
            border-bottom: 1px solid #bdc3c7;
        }
        
        .content {
            padding: 30px;
        }
        
        .section {
            margin-bottom: 40px;
        }
        
        .section h2 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-size: 1.5rem;
        }
        
        .section h3 {
            color: #34495e;
            margin: 20px 0 15px 0;
            font-size: 1.2rem;
        }
        
        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            margin: 15px 0;
            overflow-x: auto;
            white-space: pre;
        }
        
        .matlab-comment {
            color: #27ae60;
        }
        
        .fis-block {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
        }
        
        .results-box {
            background: #e8f5e8;
            border: 1px solid #27ae60;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .image-container {
            text-align: center;
            margin: 20px 0;
        }
        
        .image-container img {
            max-width: 100%;
            height: auto;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .image-caption {
            font-style: italic;
            color: #666;
            margin-top: 10px;
            font-size: 0.9rem;
        }
        
        p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        ul, ol {
            margin: 15px 0;
            padding-left: 30px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        .rule-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 0.9rem;
        }
        
        .rule-table th, .rule-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }
        
        .rule-table th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        
        .parameters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .parameter-card {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
        }
        
        .parameter-card h4 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.1rem;
            border-bottom: 2px solid #3498db;
            padding-bottom: 5px;
        }
        
        .param-item {
            margin: 8px 0;
            padding: 5px 0;
            border-bottom: 1px dotted #ccc;
        }
        
        .param-label {
            font-weight: bold;
            color: #34495e;
            display: inline-block;
            width: 120px;
        }
        
        .param-value {
            color: #2c3e50;
            font-family: 'Courier New', monospace;
        }
        
        .membership-functions {
            background: #e8f5e8;
            padding: 10px;
            border-radius: 5px;
            margin-top: 10px;
        }
        
        .mf-item {
            margin: 5px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }
        
        .rules-container {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .rules-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 15px;
        }
        
        .rule-group {
            background: white;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 12px;
        }
        
        .rule-group h5 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 0.95rem;
            text-align: center;
            background: #ecf0f1;
            padding: 5px;
            border-radius: 4px;
        }
        
        .rule-item {
            margin: 4px 0;
            font-size: 0.85rem;
            font-family: 'Courier New', monospace;
            padding: 2px 5px;
            background: #f8f9fa;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Car Control με Fuzzy Logic</h1>
            <div class="subtitle">Mamdani Fuzzy Inference System</div>
        </div>
        
        <div class="student-info">
            <strong></strong> B_CarControl<br>
            <strong>Θέμα:</strong> Σχεδιασμός και υλοποίηση συστήματος ελέγχου αυτοκινήτου με χρήση Fuzzy Logic
        </div>
        
        <div class="content">
            <div class="section">
                <h2>Mamdani Car Control FIS</h2>
                
                <h3>Παράμετροι Συστήματος</h3>
                <div class="parameter-card">
                    <h4>Γενικές Παράμετροι FIS</h4>
                    <div class="param-item">
                        <span class="param-label">Όνομα:</span>
                        <span class="param-value">'car control'</span>
                    </div>
                    <div class="param-item">
                        <span class="param-label">Τύπος:</span>
                        <span class="param-value">'mamdani'</span>
                    </div>
                    <div class="param-item">
                        <span class="param-label">Αριθμός Κανόνων:</span>
                        <span class="param-value">27</span>
                    </div>
                    <div class="param-item">
                        <span class="param-label">Μέθοδος Defuzzification:</span>
                        <span class="param-value">'centroid'</span>
                    </div>
                </div>
                
                <h3>Ορισμός Εισόδων και Εξόδων</h3>
                <div class="parameters-grid">
                    <div class="parameter-card">
                        <h4>Είσοδος 1: dv (Κατακόρυφη Απόσταση)</h4>
                        <div class="param-item">
                            <span class="param-label">Εύρος:</span>
                            <span class="param-value">[0 1]</span>
                        </div>
                        <div class="membership-functions">
                            <strong>Συναρτήσεις Συμμετοχής:</strong>
                            <div class="mf-item">'S', 'M', 'L' (Small, Medium, Large)</div>
                        </div>
                    </div>
                    
                    <div class="parameter-card">
                        <h4>Είσοδος 2: dh (Οριζόντια Απόσταση)</h4>
                        <div class="param-item">
                            <span class="param-label">Εύρος:</span>
                            <span class="param-value">[0 1]</span>
                        </div>
                        <div class="membership-functions">
                            <strong>Συναρτήσεις Συμμετοχής:</strong>
                            <div class="mf-item">'S', 'M', 'L' (Small, Medium, Large)</div>
                        </div>
                    </div>
                    
                    <div class="parameter-card">
                        <h4>Είσοδος 3: theta (Γωνία Προσανατολισμού)</h4>
                        <div class="param-item">
                            <span class="param-label">Εύρος:</span>
                            <span class="param-value">[-180 180]</span>
                        </div>
                        <div class="membership-functions">
                            <strong>Συναρτήσεις Συμμετοχής:</strong>
                            <div class="mf-item">'N', 'ZE', 'P' (Negative, Zero, Positive)</div>
                        </div>
                    </div>
                    
                    <div class="parameter-card">
                        <h4>Έξοδος: dtheta (Αλλαγή Γωνίας)</h4>
                        <div class="param-item">
                            <span class="param-label">Εύρος:</span>
                            <span class="param-value">[-110 110]</span>
                        </div>
                        <div class="membership-functions">
                            <strong>Συναρτήσεις Συμμετοχής:</strong>
                            <div class="mf-item">'N', 'ZE', 'P' (Negative, Zero, Positive)</div>
                        </div>
                    </div>
                </div>
                
                <h3>Κανόνες Fuzzy Logic</h3>
                <div class="rules-container">
                    <p><strong>Συνολικά 27 κανόνες οργανωμένοι ανά γωνία theta:</strong></p>
                    
                    <div class="rules-grid">
                        <div class="rule-group">
                            <h5>theta = N (Negative)</h5>
                            <div class="rule-item">S,S,N → P (Κανόνας 1)</div>
                            <div class="rule-item">M,S,N → P (Κανόνας 2)</div>
                            <div class="rule-item">L,S,N → P (Κανόνας 3)</div>
                            <div class="rule-item">S,M,N → P (Κανόνας 4)</div>
                            <div class="rule-item">M,M,N → P (Κανόνας 5)</div>
                            <div class="rule-item">L,M,N → P (Κανόνας 6)</div>
                            <div class="rule-item">S,L,N → P (Κανόνας 7)</div>
                            <div class="rule-item">M,L,N → P (Κανόνας 8)</div>
                            <div class="rule-item">L,L,N → P (Κανόνας 9)</div>
                        </div>
                        
                        <div class="rule-group">
                            <h5>theta = ZE (Zero)</h5>
                            <div class="rule-item">S,S,ZE → P (Κανόνας 10)</div>
                            <div class="rule-item">M,S,ZE → ZE (Κανόνας 11)</div>
                            <div class="rule-item">L,S,ZE → P (Κανόνας 12)</div>
                            <div class="rule-item">S,M,ZE → ZE (Κανόνας 13)</div>
                            <div class="rule-item">M,M,ZE → ZE (Κανόνας 14)</div>
                            <div class="rule-item">L,M,ZE → ZE (Κανόνας 15)</div>
                            <div class="rule-item">S,L,ZE → ZE (Κανόνας 16)</div>
                            <div class="rule-item">M,L,ZE → ZE (Κανόνας 17)</div>
                            <div class="rule-item">L,L,ZE → ZE (Κανόνας 18)</div>
                        </div>
                        
                        <div class="rule-group">
                            <h5>theta = P (Positive)</h5>
                            <div class="rule-item">S,S,P → ZE (Κανόνας 19)</div>
                            <div class="rule-item">M,S,P → ZE (Κανόνας 20)</div>
                            <div class="rule-item">L,S,P → ZE (Κανόνας 21)</div>
                            <div class="rule-item">S,M,P → N (Κανόνας 22)</div>
                            <div class="rule-item">M,M,P → N (Κανόνας 23)</div>
                            <div class="rule-item">L,M,P → N (Κανόνας 24)</div>
                            <div class="rule-item">S,L,P → N (Κανόνας 25)</div>
                            <div class="rule-item">M,L,P → N (Κανόνας 26)</div>
                            <div class="rule-item">L,L,P → N (Κανόνας 27)</div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 15px; padding: 10px; background: #e8f4fd; border-radius: 5px;">
                        <strong>Επεξήγηση συμβολισμών:</strong><br>
                        <strong>Εισόδοι:</strong> dv,dh,theta → <strong>Έξοδος:</strong> dtheta<br>
                        <strong>S</strong>=Small, <strong>M</strong>=Medium, <strong>L</strong>=Large, <strong>N</strong>=Negative, <strong>ZE</strong>=Zero, <strong>P</strong>=Positive
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2>Helper Functions</h2>
                
                <h3>Συνάρτηση draw_obstacles()</h3>
                <p>Σχεδιάζει τα εμπόδια στο περιβάλλον:</p>
                <div class="code-block">function draw_obstacles()
<span class="matlab-comment">% Draws the staircase obstacle boundary</span>
segments = { ...
   [5 0; 5 1];   <span class="matlab-comment">% vertical at x=5</span>
   [5 1; 6 1];   <span class="matlab-comment">% horizontal at y=1</span>
   [6 1; 6 2];   <span class="matlab-comment">% vertical at x=6</span>
   [6 2; 7 2];   <span class="matlab-comment">% horizontal at y=2</span>
   [7 2; 7 3];   <span class="matlab-comment">% vertical at x=7</span>
   [7 3; 10 3]   <span class="matlab-comment">% horizontal at y=3</span>
};
hold on; axis equal
for k = 1:numel(segments)
   p = segments{k};
   plot(p(:,1), p(:,2), 'k-', 'LineWidth', 2);
end
xlabel('X'); ylabel('Y');
title('Obstacle Boundary');
end</div>
                
                <h3>Συνάρτηση obstacle_axis_dist()</h3>
                <p>Υπολογίζει τις αποστάσεις από τα εμπόδια:</p>
                <div class="code-block">function [dh, dv] = obstacle_axis_dist(x,y)
<span class="matlab-comment">% Range-limited distances from (x,y) to obstacle boundary</span>
<span class="matlab-comment">% dh ∈ [0,1] distance to nearest obstacle to the right (max 1m)</span>
<span class="matlab-comment">% dv ∈ [0,1] distance to nearest obstacle below (max 1m)</span>
dh = 1;
dv = 1;
segments = { ...
   [5 0; 5 1];  <span class="matlab-comment">% vertical at x=5</span>
   [5 1; 6 1];  <span class="matlab-comment">% horizontal at y=1</span>
   [6 1; 6 2];  <span class="matlab-comment">% vertical at x=6</span>
   [6 2; 7 2];  <span class="matlab-comment">% horizontal at y=2</span>
   [7 2; 7 3];  <span class="matlab-comment">% vertical at x=7</span>
   [7 3; 10 3]   <span class="matlab-comment">% horizontal at y=3</span>
};
for k = 1:numel(segments)
   p1 = segments{k}(1,:);
   p2 = segments{k}(2,:);
  
   <span class="matlab-comment">% vertical segment → check right</span>
   if p1(1)==p2(1)
       xv = p1(1);
       ylow = min(p1(2),p2(2));
       yhigh = max(p1(2),p2(2));
       if y>=ylow && y<=yhigh
           distx = xv - x;
           if distx >= 0 && distx <= 1
               dh = min(dh,distx);
           end
       end
   end
  
   <span class="matlab-comment">% horizontal segment → check down</span>
   if p1(2)==p2(2)
       yh = p1(2);
       xlow = min(p1(1),p2(1));
       xhigh = max(p1(1),p2(1));
       if x>=xlow && x<=xhigh
           distv = y - yh;   <span class="matlab-comment">% positive if obstacle below</span>
           if distv >= 0 && distv <= 1
               dv = min(dv,distv);
           end
       end
   end
end
end</div>
            </div>
            
            <div class="section">
                <h2>Προσομοίωση με Starting FIS</h2>
                
                <h3>Κώδικας Προσομοίωσης</h3>
                <div class="code-block"><span class="matlab-comment">%% Car Control Simulation for Different Initial Orientations</span>
<span class="matlab-comment">% Simulation parameters</span>
xd = 10;       <span class="matlab-comment">% target X</span>
yd = 3.2;      <span class="matlab-comment">% target Y</span>
u = 0.05;      <span class="matlab-comment">% forward speed</span>
Xinit = 4;
Yinit = 0.4;
dt = 1;        <span class="matlab-comment">% time step</span>
nSteps = 2000; <span class="matlab-comment">% maximum number of steps</span>

<span class="matlab-comment">% Initial orientations</span>
thetas = [0, -45, -90, -170];
colors = ['r', 'g', 'b', 'm']; <span class="matlab-comment">% colors for each path</span>

<span class="matlab-comment">% Load FLC</span>
carControl = readfis('car_control_starting.fis');

<span class="matlab-comment">% Draw obstacles</span>
draw_obstacles();
hold on;

<span class="matlab-comment">% Loop over each initial orientation</span>
for i = 1:length(thetas)
   carX = Xinit;
   carY = Yinit;
   carTheta = thetas(i);
   Xhist = zeros(1, nSteps);
   Yhist = zeros(1, nSteps);
   
   <span class="matlab-comment">% Simulation loop</span>
   for k = 1:nSteps
       <span class="matlab-comment">% Sense environment</span>
       [dh, dv] = obstacle_axis_dist(carX, carY);
       
       <span class="matlab-comment">% Compute steering</span>
       dtheta = evalfis(carControl, [dv dh carTheta]);
       carTheta = max(-180, min(180, carTheta + dtheta));
       
       <span class="matlab-comment">% Motion update</span>
       carX = carX + u * cosd(carTheta) * dt;
       carY = carY + u * sind(carTheta) * dt;
       
       <span class="matlab-comment">% Store position</span>
       Xhist(k) = carX;
       Yhist(k) = carY;
       
       <span class="matlab-comment">% Stop if target reached</span>
       if carX >= xd
           Xhist = Xhist(1:k);
           Yhist = Yhist(1:k);
           break;
       end
   end
   
   <span class="matlab-comment">% Plot path</span>
   plot(Xhist, Yhist, [colors(i) '-o'], 'LineWidth', 1.5, ...
        'DisplayName', ['theta = ' num2str(thetas(i)) '°']);
end

xlabel('X'); ylabel('Y');
axis equal;
grid on; 
title('Car Paths for Different Initial Orientations');
legend show;</div>
                
                <div class="image-container">
                    <img src="images/10.png" alt="Starting FIS Results">
                    <div class="image-caption">ΕΙΚΟΝΑ 10: Αποτελέσματα προσομοίωσης με starting FIS</div>
                </div>
            </div>
            
            <div class="section">
                <h2>Προσομοίωση με Δικό μου FIS</h2>
                
                <h3>Φόρτωση του βελτιωμένου ελεγκτή</h3>
                <div class="code-block"><span class="matlab-comment">% Load Fuzzy Logic Controller</span>
carControl = readfis('car_control.fis');</div>
                
                <div class="image-container">
                    <img src="images/11.png" alt="My FIS Results">
                    <div class="image-caption">ΕΙΚΟΝΑ 11: Αποτελέσματα προσομοίωσης με βελτιωμένο FIS</div>
                </div>
                
                <div class="results-box">
                    <h3>Σύγκριση Αποτελεσμάτων</h3>
                    <p>Η σύγκριση μεταξύ του αρχικού FIS και του βελτιωμένου δείχνει:</p>
                    <ul>
                        <li>Βελτιωμένη πλοήγηση γύρω από τα εμπόδια</li>
                        <li>Πιο ομαλές τροχιές για διαφορετικούς αρχικούς προσανατολισμούς</li>
                        <li>Καλύτερη αποφυγή συγκρούσεων</li>
                        <li>Πιο αποτελεσματική σύγκλιση προς τον στόχο</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</body>
</html>







